<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WeatherWise Application</title>
<style>
table,th,td {
  border : 1px solid black;
  border-collapse: collapse;
}
th,td {
  padding: 5px;
}
</style>
<body>

<button type="button" onclick="loadDoc()">Get CD collection</button>
<br><br>
<table id="demo"></table>

<script>
function loadDoc() {
  const xhttp = new XMLHttpRequest();
  xhttp.onload = function() {
    myFunction(this);
  }
  xhttp.open("GET", "cd_catalog.xml");
  xhttp.send();
}
function myFunction(xml) {
  const xmlDoc = xml.responseXML;
  const x = xmlDoc.getElementsByTagName("CD");
  let table="<tr><th>Artist</th><th>Title</th></tr>";
  for (let i = 0; i <x.length; i++) { 
    table += "<tr><td>" +
    x[i].getElementsByTagName("ARTIST")[0].childNodes[0].nodeValue +
    "</td><td>" +
    x[i].getElementsByTagName("TITLE")[0].childNodes[0].nodeValue +
    "</td></tr>";
  }
  document.getElementById("demo").innerHTML = table;
}
</script>

<h2>Explanation of AJAX</h2>
<p>AJAX (Asynchronous JavaScript and XML) is a technique for making asynchronous requests to a server to fetch or send data without reloading the entire web page. In this code, when the button is clicked, it triggers the `loadDoc()` function, which performs an AJAX request to retrieve an external XML file (`cd_catalog.xml`). This process is performed asynchronously, allowing the web page to remain responsive while the data is being fetched.</p>

<p>The `fetch` function is used to make the HTTP GET request. Once the request completes successfully, the response is converted to text, and the DOMParser is employed to parse the text into an XML document. This XML document is passed to the `myFunction()` function, which processes the data and dynamically generates a table to display it. If an error occurs during the request, an error message is displayed in the table instead.</p>

<p>This approach highlights the power of AJAX for creating dynamic, interactive web pages that can update content without requiring a full page reload, enhancing the user experience significantly.</p>

<h2>REST API</h2>
<p>Our company, WebTech Solutions, plans to integrate the <strong>OpenWeatherMap API</strong> into our upcoming weather app, <em>WeatherWise</em>. This app will provide real-time weather updates, forecasts, and alerts.</p>

<p>The API primarily returns data in <strong>JSON format</strong>, making it lightweight and easy to parse, with optional XML support for flexibility. Access requires a <strong>free API key</strong>, and a tiered pricing model allows scaling from free basic features to advanced paid plans for higher limits and additional data.</p>

<p>Detailed <a href="https://apilist.fun/api/openweathermap" target="_blank" rel="noopener noreferrer">OpenWeatherMap API documentation</a> supports seamless integration. With its scalability, flexibility, and affordability, the API is an ideal choice for delivering accurate and localized weather information, ensuring an exceptional user experience for <em>WeatherWise</em>.</p>

<p><a href="index.html">Back to Homework 1 Main Page</a></p>
</body>
</html>
